<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout1}">

<th:block layout:fragment="css">
    <link th:href="@{/css/responsive.css}" rel="stylesheet" />
</th:block>

<div layout:fragment="content">
	<div class="hero_area">
      <div class="bg-box">
        <img src="images/main_img.PNG" alt="mainImg" />
      </div>
      <!-- header section strats -->
      
      <!-- end header section -->
      <!-- slider section -->
      <section class="slider_section">
        <div id="customCarousel1" class="carousel slide" data-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <div class="container">
                <div class="row">
                  <div class="col-md-7 col-lg-6">
                    <div class="detail-box">
                      <h1>Korean Food Restaurant</h1>
                      <p>맛있는 한식을 즐겨보세요!</p>
                      <p>직접 엄선한 신선한 재료들로 정성껏 조리하여</p>
                      <p>일상에 지친 몸과 마음을 따뜻하게 달래드리겠습니다.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="carousel-item">
              <div class="container">
                <div class="row">
                  <div class="col-md-7 col-lg-6">
                    <div class="detail-box">
                      <h1>Korean Food Restaurant</h1>
                      <p>한식의 푸짐한 음식을 알짜배기로 먹을 수 있는 정식!</p>
                      <p>
                        한 가지의 메인 요리와 어울리는 조합의 각종 반찬이</p>
                        <p> 
                        어우러져 당신의 미각에 다양하고 색다른 맛을 선사합니다.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="carousel-item">
              <div class="container">
                <div class="row">
                  <div class="col-md-7 col-lg-6">
                    <div class="detail-box">
                      <h1>Korean Food Restaurant</h1>
                      <p>추울 때는 따끈~하게 더울 때는 이열치열!</p>
                      <p>
                        푸짐한 양과 다채로운 재료들의 육수, 언제 먹어도</p>
                      </p> 몸과
                        마음까지 따뜻해지는 국물요리!
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="container">
            <ol class="carousel-indicators">
              <li
                data-target="#customCarousel1"
                data-slide-to="0"
                class="active"
              ></li>
              <li data-target="#customCarousel1" data-slide-to="1"></li>
              <li data-target="#customCarousel1" data-slide-to="2"></li>
            </ol>
          </div>
        </div>
      </section>
    </div>
    
    <section class="food_section layout_padding-bottom">
      <div class="container">
        <div class="heading_container heading_center">
          <h2>Menu</h2>
        </div>

        <ul class="filters_menu">
          <li class="active" data-filter="*">전체</li>
          <li data-filter=".category1">탕</li>
          <li data-filter=".category2">볶음</li>
          <li data-filter=".category3">찜</li>
          <li data-filter=".category4">정식</li>
        </ul>

        <div class="filters-content">
          <div class="row grid">
        	<th:block th:each="menu, status:${menus}">
            <div class="col-sm-6 col-lg-4 all" th:classappend="category + ${menu.category.id}">
              <div class="box">
                <div>
                  <div class="img-box">
                    <img th:src="${menu.imgUrl}" th:alt="메뉴 + ${menu.id}" />
                  </div>
                  <div class="detail-box">
                    <h5 th:text="${menu.menuNm}"></h5>
                    <p th:text="${menu.menuDetail}">
                    </p>
                    <div class="options">
                    
                      <h6><del>[[${#numbers.formatInteger(menu.price * 1.5, 0, 'COMMA')}]]원</del>
						&nbsp;&nbsp;
						[[${#numbers.formatInteger(menu.price, 0, 'COMMA')}]]원</h6>
                      <a th:onclick="|javascript:menuDtl('${menu.id}')|">
                        <svg
                          version="1.1"
                          id="Capa_1"
                          xmlns="http://www.w3.org/2000/svg"
                          xmlns:xlink="http://www.w3.org/1999/xlink"
                          x="0px"
                          y="0px"
                          viewBox="0 0 456.029 456.029"
                          style="enable-background: new 0 0 456.029 456.029"
                          xml:space="preserve"
                        >
                          <g>
                            <g>
                              <path
                                d="M345.6,338.862c-29.184,0-53.248,23.552-53.248,53.248c0,29.184,23.552,53.248,53.248,53.248
                         c29.184,0,53.248-23.552,53.248-53.248C398.336,362.926,374.784,338.862,345.6,338.862z"
                              />
                            </g>
                          </g>
                          <g>
                            <g>
                              <path
                                d="M439.296,84.91c-1.024,0-2.56-0.512-4.096-0.512H112.64l-5.12-34.304C104.448,27.566,84.992,10.67,61.952,10.67H20.48
                         C9.216,10.67,0,19.886,0,31.15c0,11.264,9.216,20.48,20.48,20.48h41.472c2.56,0,4.608,2.048,5.12,4.608l31.744,216.064
                         c4.096,27.136,27.648,47.616,55.296,47.616h212.992c26.624,0,49.664-18.944,55.296-45.056l33.28-166.4
                         C457.728,97.71,450.56,86.958,439.296,84.91z"
                              />
                            </g>
                          </g>
                          <g>
                            <g>
                              <path
                                d="M215.04,389.55c-1.024-28.16-24.576-50.688-52.736-50.688c-29.696,1.536-52.224,26.112-51.2,55.296
                         c1.024,28.16,24.064,50.688,52.224,50.688h1.024C193.536,443.31,216.576,418.734,215.04,389.55z"
                              />
                            </g>
                          </g>
                     
                        </svg>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            </th:block>
          </div>
        </div>
      </div>
    </section>
    
    <section class="client_section layout_padding-bottom">
	    <div class="container" th:if="${not reviews.isEmpty()}">
	      <div class="heading_container heading_center psudo_white_primary mb_45">
	        <h2>
	          Reviews
	        </h2>
	      </div>
	      <div class="carousel-wrap row ">
	        <div class="owl-carousel client_owl-carousel">
	        <th:block th:each="review, status:${reviews}" >
	          <div class="item">
	            <div class="box">
	              <div class="detail-box">
	                <h6 th:text="${review.member.name} + ' 님'">
	                </h6>

	                <p th:text="${review.reviewText}">
	                </p>	                
	                
	              </div>
	              
	              <div class="review_img">
		              <div class="img-box">
		                <img th:src="${review.imgUrl}" alt="menuImg" class="box-img">
		              </div>	              
		                <h6 th:text="${review.menu.menuNm}" style="padding-left: 15px;padding-top: 35px;"></h6>
	              </div>
	            </div>
	            
	          </div>
	        </th:block>  
	          
	          
	          
	        </div>
	      </div>
	    </div>
  </section>
    
    <section class="book_section layout_padding-bottom">
      <div class="container">
      	<div class="heading_container heading_center">
          <h2>map</h2>
        </div>
        
        <div class="row">
          <div class="col-md-12">
            <div class="map_container">
              <div id="googleMap"></div>
            </div>
          </div>
        </div>
      </div>
    </section>
</div>
<th:block layout:fragment="script">
	<script th:src="@{https://maps.googleapis.com/maps/api/js?key=AIzaSyAyPYAYxIWN49JeM3vrJ_RND1V1xjjXfWQ&callback=myMap}"></script>
	<script th:inline="javascript">
		//loginMessage
		function menuDtl(menuId){
			var errorMessage = [[${loginMessage}]];
			if(errorMessage != null){
				alert(errorMessage);
				location.href= "/members/login";
			}else{
				location.href= "/menu/" + menuId;				
			}
			
		}
		
	</script>
</th:block>
</html>